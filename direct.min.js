"use strict";var DirectJs={data:{initElement:void 0,insertElement:void 0,loadedScripts:void 0,expectedScripts:void 0,allScriptsLoaded:void 0},core:{insert:function insert(a,b,c,d){var e,f;if(e=c.split(a),f=e.shift(),0>=(c.match(b)||[]).length)return c;for(var g=e,h=Array.isArray(g),j=0,g=h?g:g[Symbol.iterator]();;){var k;if(h){if(j>=g.length)break;k=g[j++]}else{if(j=g.next(),j.done)break;k=j.value}var l=k,_part$split=l.split(b),n=_part$split[0],o=_part$split[1],p=_part$split[2],m=d(n);f+=m?d(n)+o:""+a+n+b+o}return f},loadData:function loadData(a,b){DirectJs.data.expectedScripts++;var c=new XMLHttpRequest;c.onreadystatechange=function(){4==this.readyState&&200==this.status&&(b(this.responseText),DirectJs.data.loadedScripts++)},c.open("GET",a,!0),c.send()},addScript:function addScript(a){var b=DirectJs.data.insertElement.cloneNode();b.innerHTML=a,document.head.appendChild(b)},init:function init(){DirectJs.data.loadedScripts=0,DirectJs.data.expectedScripts=0,DirectJs.data.allScriptsLoaded=!1,DirectJs.data.initElement=document.currentScript;var a=Array.from(document.getElementsByTagName("script"));DirectJs.data.insertElement=document.createElement("script"),DirectJs.data.insertElement.setAttribute("type","application/javascript"),a.map(function(b){if(b!=DirectJs.data.initElement&&"direct-js"==b.getAttribute("type")){var c=b.getAttribute("src");c?DirectJs.core.loadData(c,function(d){return DirectJs.core.addScript(DirectJs.core.compile(d))}):b.innerText?DirectJs.core.addScript(DirectJs.core.compile(DirectJs.core.compile(DirectJs.core.compile(b.innerText,"'"),"\""),"`")):console.warn("(Parser): Found a \"useless\" <script type=\"direct-js\">-tag!"),b.remove()}}),DirectJs.core.fileWatcher()},compile:function compile(a,b){var c="",d=a.split(b);if(1!=d.length%2)throw new Error("(DirectJs):\nCould not compile.\nQuote was opened but not closed.\n");for(var e=0;e<d.length;e++)0==e%2&&(d[e]=d[e].replace(/=\s*<div( +.*)*>/gim,function(f){return"=`"+f.slice(1)}),d[e]=d[e].replace(/\(\s*<div( +.*)*>/gim,function(f){return"(`"+f.slice(1)}),d[e]=d[e].replace(/return\s*<div( +.*)*>/gim,function(f){return"return`"+f.slice(6)}),d[e]=d[e].replace(/=>\s*<div( +.*)*>/gim,function(f){return"=>`"+f.slice(2)}),d[e]=d[e].replace(/<\/div\s*>\s*;/gim,function(f){return f.slice(0,-1)+"`;"}),d[e]=d[e].replace(/<\/div\s*>\s*\)/gim,function(f){return f.slice(0,-1)+"`)"}),d[e]=d[e].replace(/<\/div\s*>\s*return/gim,function(f){return f.slice(0,-6).trim()+"`\nreturn"}),d[e]=d[e].replace(/<\/div\s*>\s*}/gim,function(f){return f.slice(0,-1)+"`}"}),d[e]=d[e].replace(/=\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)/gim,function(f){return"=`"+f.slice(1)+"`"}),d[e]=d[e].replace(/=>\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)/gim,function(f){return"=>`"+f.slice(2)+"`"}),d[e]=d[e].replace(/return\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)/gim,function(f){return"return`"+f.slice(6)+"`"}),d[e]=d[e].replace(/:\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)\s*}/gim,function(f){return":`"+f.slice(1,-1)+"`}"}),d[e]=d[e].replace(/:\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)\s*,/gim,function(f){return":`"+f.slice(1)+"`,"}),d[e]=d[e].replace(/\(\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)/gim,function(f){return"(`"+f.slice(1)+"`"}),d[e]=d[e].replace(/\[\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)\s*\]/gim,function(f){return"[`"+f.slice(1,-1)+"`]"}),d[e]=d[e].replace(/\[\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)\s*,/gim,function(f){return"[`"+f.slice(1,-1)+"`,"}),d[e]=d[e].replace(/,\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)\s*,/gim,function(f){return",`"+f.slice(1,-1)+"`,"}),d[e]=d[e].replace(/,\s*(<\w*( +.*)*>.*<\/\w*( +.*)*>|<\w*( +.*)*\/>)\s*\]/gim,function(f){return",`"+f.slice(1,-1)+"`]"}));return c=d.join(b),c.endsWith(">")&&(c+="`"),c},fileWatcher:function fileWatcher(){DirectJs.data.loadedScripts==DirectJs.data.expectedScripts||0==DirectJs.data.expectedScripts.length?DirectJs.data.allScriptsLoaded=!0:window.requestAnimationFrame(DirectJs.core.fileWatcher)}}};DirectJs.core.init();